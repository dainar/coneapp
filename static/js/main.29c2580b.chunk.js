(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{40:function(e,t){},48:function(e,t,a){e.exports=a(71)},61:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(37),l=a.n(s),o=a(17),c=a(16),i={};var u=a(40),m=Object(o.c)({admin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USUARIOS":return Object(c.a)({},e,{usuarios:t.usuarios});case"SET_CLIENTES":return Object(c.a)({},e,{clientes:t.clientes});default:return e}},login:u.loginReducer,__SUPER_SECRET_FEATURE_FLAGS__:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}),d=a(10),h=a(42),p=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function E(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}a(61);var f=a(4),g=a(5),v=a(7),b=a(6),O=a(8),j=a(2),y=function(e){function t(){return Object(f.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"error"},r.a.createElement("h1",null,"Error 404"),r.a.createElement("h2",null,"Oops! No pudimos encontrar la pagina.")),r.a.createElement("p",{className:"error"},"Parece que no hay ningun recurso que apunte a la direccion que escribiste. "),r.a.createElement("span",{className:"error"},"Regresa al "),r.a.createElement(j.b,{className:"error",to:"/login"},"Inicio"))}}]),t}(n.Component),S=a(11),C=a.n(S),w=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(v.a)(this,Object(b.a)(t).call(this))).componentDidMount=function(){C.a.ajax({url:"https://reqres.in/api/users/1",method:"GET",dataType:"JSON",success:function(t){e.setState({avatar:t.data.avatar,first:t.data.first_name,last:t.data.last_name})},error:function(e,t){console.log(t)}})},e.logout=function(e){localStorage.token="",j.e.push("/login")},e.state={avatar:"",first:"",last:""},e}return Object(O.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"main-header"},r.a.createElement("div",null,r.a.createElement("img",{alt:"logo",className:"logo",src:this.state.avatar}),r.a.createElement("p",null,this.state.first," ",this.state.last),r.a.createElement("div",null,r.a.createElement(j.b,{to:"/users",className:"head-item"},r.a.createElement("p",null,"Usuarios"),r.a.createElement("div",{className:"icon-env"})),r.a.createElement(j.b,{to:"/recursos",className:"head-item"},r.a.createElement("p",null,"Recursos"),r.a.createElement("div",{className:"icon-env"})),r.a.createElement("div",{onClick:function(t){e.logout(t)},className:"head-item"},r.a.createElement("p",null,"Salir"),r.a.createElement("div",{className:"icon-env"})))))}}]),t}(r.a.Component),N=Object(d.b)(function(e){return{}},function(e){return{}})(w),k=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(v.a)(this,Object(b.a)(t).call(this))).componentDidMount=function(){localStorage.token||j.e.push("/login")},e.state={},e}return Object(O.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"admin"},r.a.createElement(N,null),r.a.createElement("div",null,"Hola"))}}]),t}(r.a.Component),_=Object(d.b)(function(e){return{}},function(e){return{}})(k),D=a(33),U=a(13),I={id:null,email:"",first_name:"",last_name:"",avatar:""},A=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(v.a)(this,Object(b.a)(t).call(this))).handleInputChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState({user:Object(c.a)({},e.state.user,Object(U.a)({},n,r))})},e.handleSubmit=function(t){t.preventDefault(),console.log(e.state.user.nombre),console.log("hola"),""!==e.state.user.email&&""!==e.state.user.first_name&&""!==e.state.user.last_name&&""!==e.state.user.avatar?(e.setState({vacio:!1}),e.props.addUser(e.state.user),e.setState({user:I})):e.setState({vacio:!0})},e.state={user:I,invalid:!1,vacio:!1},e}return Object(O.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,"Correo"),r.a.createElement("input",{type:"text",name:"email",value:this.state.user.email,onChange:this.handleInputChange,placeholder:"ejemplo@ejemplo.com"}),r.a.createElement("label",null,"Nombre"),r.a.createElement("input",{type:"text",name:"first_name",value:this.state.user.first_name,onChange:this.handleInputChange,placeholder:"Adrian"}),this.invalid?r.a.createElement("span",{class:"red"},"Formato de correo incorrecto"):"",r.a.createElement("label",null,"Apellido"),r.a.createElement("input",{type:"text",name:"last_name",value:this.state.user.lastname,onChange:this.handleInputChange,placeholder:"Gonzalez"}),r.a.createElement("label",null,"Avatar"),r.a.createElement("input",{type:"text",name:"avatar",value:this.state.user.avatar,onChange:this.handleInputChange,placeholder:"http://www.blabla.com/img.jpg"}),this.state.vacio?r.a.createElement("div",null,r.a.createElement("span",{class:"red"},"Ningun campo puede quedar vacio"),r.a.createElement("br",null)):"",r.a.createElement("button",null,"A\xf1ade un usuario"))}}]),t}(r.a.Component),x=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(v.a)(this,Object(b.a)(t).call(this))).componentDidMount=function(){e.setState({user:e.props.currentUser})},e.handleInputChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState({user:Object(c.a)({},e.state.user,Object(U.a)({},n,r))})},e.handleSubmit=function(t){t.preventDefault(),""!==e.state.user.email&&""!==e.state.user.first_name&&""!==e.state.user.last_name&&""!==e.state.user.avatar?(e.setState({vacio:!1}),e.props.updateUser(e.state.user.id,e.state.user)):e.setState({vacio:!0})},e.state={user:{},invalid:!1,vacio:!1},e}return Object(O.a)(t,e),Object(g.a)(t,[{key:"componentDidUpdate",value:function(e){if(this.props!==e){var t=JSON.stringify(this.props.users);window.localStorage.setItem("myData",t)}}},{key:"render",value:function(){var e=this;return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,"Correo"),r.a.createElement("input",{type:"text",name:"email",value:this.state.user.email,onChange:this.handleInputChange}),r.a.createElement("label",null,"Nombre"),r.a.createElement("input",{type:"text",name:"first_name",value:this.state.user.first_name,onChange:this.handleInputChange}),this.invalid?r.a.createElement("span",{class:"red"},"Formato de correo incorrecto"):"",r.a.createElement("label",null,"Apellido"),r.a.createElement("input",{type:"text",name:"last_name",value:this.state.user.last_name,onChange:this.handleInputChange}),r.a.createElement("label",null,"Avatar"),r.a.createElement("input",{type:"text",name:"avatar",value:this.state.user.avatar,onChange:this.handleInputChange}),this.vacio?r.a.createElement("div",null,r.a.createElement("span",{class:"red"},"Ningun campo puede quedar vacio"),r.a.createElement("br",null)):"",r.a.createElement("button",null,"Editar usuario"),r.a.createElement("button",{onClick:function(){return e.props.setEditing(!1)},className:"button muted-button"},"Cancelar"))}}]),t}(r.a.Component),T=a(31),P=a.n(T),R=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(v.a)(this,Object(b.a)(t).call(this))).componentDidMount=function(){C.a.ajax({url:"https://reqres.in/api/users?page=1",method:"GET",dataType:"JSON",success:function(t){e.setState({userss:t.data,pageCount:t.total_pages})},error:function(e,t){console.log(t)}})},e.handlePageClick=function(t){var a=t.selected+1;e.props.getUsers(a,function(t){e.setState({userss:t.data})})},e.componentDidUpdate=function(t){if(e.props.users!=t.users){console.log(e.props.users),console.log(t.users);var a=window.localStorage.getItem("myData"),n=JSON.parse(a);console.log(e.state.userss),console.log(n),e.setState({userss:e.props.users})}},e.openModal=function(t){e.setState({usuario:t});var a=document.getElementById("modal");a.classList.contains("open")?a.classList.remove("open"):a.classList.add("open")},e.state={userss:{},pageCount:0,usuario:{}},e}return Object(O.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Apellido"),r.a.createElement("th",null,"Correo"),r.a.createElement("th",null,"Avatar"),r.a.createElement("th",null,"Aciones"))),r.a.createElement("tbody",null,this.state.userss.length>0?this.state.userss.map(function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",{onClick:function(){e.openModal(t)}},t.first_name),r.a.createElement("td",{onClick:function(){e.openModal(t)}},t.last_name),r.a.createElement("td",{onClick:function(){e.openModal(t)}},t.email),r.a.createElement("td",{onClick:function(){e.openModal(t)}},r.a.createElement("img",{alt:"avatar",src:t.avatar})),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){e.props.editRow(t)},className:"button muted-button"},"Editar"),r.a.createElement("button",{onClick:function(){return e.props.deleteUser(t.id)},className:"button muted-button"},"Eliminar")))}):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:5},"No hay usuarios")))),r.a.createElement("div",{className:"paginador"},r.a.createElement(P.a,{pageCount:this.state.pageCount,pageRangeDisplayed:3,marginPagesDisplayed:1,previousLabel:"anterior",nextLabel:"siguiente",breakLabel:r.a.createElement("a",{href:""},"..."),onPageChange:this.handlePageClick,className:"paginador",activeClassName:"active"})),r.a.createElement("div",{id:"modal"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"centimg"},this.state.usuario.first_name," ",this.state.usuario.last_name)),r.a.createElement("tr",null,r.a.createElement("td",{className:"centimg"},r.a.createElement("img",{alt:"avatar",src:this.state.usuario.avatar}))))),r.a.createElement("button",{onClick:this.openModal},"x ")))}}]),t}(r.a.Component),J=Object(d.b)(function(e){return{}},function(e){return{getUsers:function(e,t){!function(e,t){C.a.ajax({url:"https://reqres.in/api/users?page="+e,method:"GET",contentType:"application/json",dataType:"json",success:function(e){t(e)},error:function(e){t({error:!0})}})}(e,t)}}})(R),M={id:null,email:"",first_name:"",last_name:"",avatar:""},q=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(v.a)(this,Object(b.a)(t).call(this))).componentDidMount=function(){C.a.ajax({url:"https://reqres.in/api/users?page=1",method:"GET",dataType:"JSON",success:function(t){e.setState({users:t.data}),window.localStorage.setItem("myData",JSON.stringify(t.data))},error:function(e,t){console.log(t)}})},e.addUser=function(t){t.id=Object.keys(e.state.users).length+1;var a=[].concat(Object(D.a)(e.state.users),[t]);e.setState({users:a},function(){window.localStorage.setItem("myData",JSON.stringify([].concat(Object(D.a)(this.state.users),[t])))})},e.deleteUser=function(t){e.setState({editing:!1});var a=JSON.parse(localStorage.myData);console.log(a);for(var n=0;n<a.length;n++)if(a[n].id==t){var r=a.splice(n,1);console.log(r);var s=JSON.stringify(a);console.log(a),window.localStorage.setItem("myData",s)}var l=e.state.users.filter(function(e){return e.id!==t});e.setState({users:l},function(){var e=JSON.stringify(l);window.localStorage.setItem("myData",e)})},e.updateUser=function(t,a){var n=e.state.users.map(function(e){return e.id===t?a:e});e.setState({users:n},function(){var e=JSON.stringify(n);window.localStorage.setItem("myData",e)}),e.setState({editing:!1})},e.editRow=function(t){e.setState({editing:!0,currentUser:{id:t.id,email:t.email,first_name:t.first_name,last_name:t.last_name,avatar:t.avatar}})},e.setEditing=function(t){e.setState({editing:t})},e.state={users:[],currentUser:M,editing:!1},e}return Object(O.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"admin"},r.a.createElement(N,null),r.a.createElement("div",{className:"container"},r.a.createElement("h1",null),r.a.createElement("div",{className:"flex-row"},r.a.createElement("div",{className:"flex-large"},this.state.editing?r.a.createElement(n.Fragment,null,r.a.createElement("h2",null,"Editar Usario"),r.a.createElement(x,{editing:this.state.editing,setEditing:this.setEditing,currentUser:this.state.currentUser,updateUser:this.updateUser,users:this.state.users})):r.a.createElement(n.Fragment,null,r.a.createElement("h2",null,"A\xf1adir usuario"),r.a.createElement(A,{addUser:this.addUser}))),r.a.createElement("div",{className:"flex-large"},r.a.createElement("h2",null,"Usuarios"),r.a.createElement(J,{users:this.state.users,editRow:this.editRow,deleteUser:this.deleteUser})))))}}]),t}(r.a.Component),L=(r.a.Component,a(12)),F=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(v.a)(this,Object(b.a)(t).call(this))).componentDidMount=function(){localStorage.token&&j.e.push("/")},e.login=function(){e.setState({error:""});return""==e.state.correo?(e.setState({error:"Debes de introducir un correo"}),!1):""==e.state.password?(e.setState({error:"Debes de introducir una contrase\xf1a"}),!1):/^\b[A-Z0-9._%-]+@[A-Z0-9.-]+\.[A-Z]{2,4}\b$/i.test(e.state.correo)?void e.setState({},function(){this.props.postSesion(this.state.correo,this.state.password,function(e){if(e.error)this.setState({credenciales_validas:!1});else{var t=e.token;localStorage.token=t,j.e.push("/")}}.bind(this))}):(e.setState({error:"Ingresa un formato valido de correo"}),!1)},e.state={correo:"",password:"",credenciales_validas:!0,error:""},e.handleChange=e.handleChange.bind(Object(L.a)(Object(L.a)(e))),e}return Object(O.a)(t,e),Object(g.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(U.a)({},a,n))}},{key:"render",value:function(){return r.a.createElement("div",null,!this.state.loader&&r.a.createElement("div",{className:"container login"},r.a.createElement("div",{className:"login-card"},r.a.createElement("h4",null,"Ingresa"),r.a.createElement("input",{type:"text",name:"correo",onKeyPress:this.handleKeyPress,value:this.props.correo,onChange:this.handleChange,placeholder:"Correo"}),r.a.createElement("input",{type:"password",name:"password",onKeyPress:this.handleKeyPress,value:this.props.password,onChange:this.handleChange,placeholder:"password"}),r.a.createElement("div",{className:"centr"},this.state.error),r.a.createElement("div",{className:"centr"},r.a.createElement("span",null," No tienes cuenta?")," ",r.a.createElement(j.b,{to:"/register"},"Registrate"),!this.state.credenciales_validas&&r.a.createElement("p",{className:"requiredField"}," Credenciales Inv\xe1lidas.Por favor vuelve a intentarlo "))," ",r.a.createElement("br",null),r.a.createElement("button",{onClick:this.login,className:"btn"}," Ingresar "))))}}]),t}(r.a.Component),K=Object(d.b)(function(e){return{}},function(e){return{postSesion:function(e,t,a){!function(e,t,a){var n={};n.email=e,n.password=t,C.a.ajax({url:"https://reqres.in/api/login",method:"POST",data:JSON.stringify(n),contentType:"application/json",dataType:"json",success:function(e){a(e)},error:function(e){a({error:!0})}})}(e,t,a)}}})(F),G=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(v.a)(this,Object(b.a)(t).call(this))).componentDidMount=function(){localStorage.token&&j.e.push("/")},e.login=function(){e.setState({error:""});return""==e.state.correo?(e.setState({error:"Debes de introducir un correo"}),!1):""==e.state.password?(e.setState({error:"Debes de introducir una contrase\xf1a"}),!1):/^\b[A-Z0-9._%-]+@[A-Z0-9.-]+\.[A-Z]{2,4}\b$/i.test(e.state.correo)?void e.setState({},function(){this.props.RegisterSesion(this.state.correo,this.state.password,function(e){e.error||j.e.push("/login")}.bind(this))}):(e.setState({error:"Ingresa un formato valido de correo"}),!1)},e.state={correo:"",password:"",error:""},e.handleChange=e.handleChange.bind(Object(L.a)(Object(L.a)(e))),e}return Object(O.a)(t,e),Object(g.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(U.a)({},a,n))}},{key:"render",value:function(){return r.a.createElement("div",null,!this.state.loader&&r.a.createElement("div",{className:"container login"},r.a.createElement("div",{className:"login-card"},r.a.createElement("h4",null,"Regustrate"),r.a.createElement("input",{type:"text",name:"correo",onKeyPress:this.handleKeyPress,value:this.props.correo,onChange:this.handleChange,placeholder:"Correo"}),r.a.createElement("input",{type:"password",name:"password",onKeyPress:this.handleKeyPress,value:this.props.password,onChange:this.handleChange,placeholder:"password"}),r.a.createElement("div",{className:"centr"},this.state.error),r.a.createElement("div",{className:"centr"},r.a.createElement("span",null," Ya tienes cuenta?")," ",r.a.createElement(j.b,{to:"/login"},"Ingresa"))," ",r.a.createElement("br",null),r.a.createElement("button",{onClick:this.login,className:"btn"}," Resgistro "))))}}]),t}(r.a.Component),W=Object(d.b)(function(e){return{}},function(e){return{RegisterSesion:function(e,t,a){!function(e,t,a){var n={};n.email=e,n.password=t,C.a.ajax({url:"https://reqres.in/api/register",method:"POST",data:JSON.stringify(n),contentType:"application/json",dataType:"json",success:function(e){a(e)},error:function(e){a({error:!0})}})}(e,t,a)}}})(G);function Z(e){return r.a.createElement("tr",null,r.a.createElement("td",null,""),r.a.createElement("td",{colspan:"2"},r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"A\xf1o"),r.a.createElement("th",null,"Color"),r.a.createElement("th",null,"Pantone")),r.a.createElement("tr",null,r.a.createElement("td",null,e.posts.name),r.a.createElement("td",null,e.posts.year),r.a.createElement("td",null,e.posts.color),r.a.createElement("td",null,e.posts.pantone_value)))))}var B=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(v.a)(this,Object(b.a)(t).call(this,e))).componentDidMount=function(){C.a.ajax({url:"https://reqres.in/api/unknown",method:"GET",dataType:"JSON",success:function(e){var t;a.setState({resources:(t=e.data,t.map(function(e){return{id:e.id,resource:e,displayDetail:!1}}))})},error:function(e,t){console.log(t)}})},a.state={resources:[]},a.handleClick=a.handleClick.bind(Object(L.a)(Object(L.a)(a))),a}return Object(O.a)(t,e),Object(g.a)(t,[{key:"handleClick",value:function(e){var t=this.state.resources.map(function(t){return t.id===e.id?Object.assign({},t,{displayDetail:!e.displayDetail}):t});this.setState({resources:t})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"admin"},r.a.createElement(N,null),r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("th",null,""),r.a.createElement("th",null,"id"),r.a.createElement("th",null,"nombre")),this.state.resources.map(function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return e.handleClick(t)}},t.displayDetail?"-":"+")),r.a.createElement("td",null,t.resource.id),r.a.createElement("td",{style:{color:t.resource.color}},t.resource.name)),t.displayDetail&&r.a.createElement(Z,{posts:t.resource}))})))}}]),t}(r.a.Component),$=function(e){function t(){return Object(f.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){document.title="Conektapp"}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(j.d,{history:j.e},r.a.createElement(j.c,{path:"/"},r.a.createElement(j.a,{component:B}),r.a.createElement(j.c,{path:"/login",component:K}),r.a.createElement(j.c,{path:"/register",component:W}),r.a.createElement(j.c,{path:"/recursos",component:B}),r.a.createElement(j.c,{path:"users",component:q}),r.a.createElement(j.c,{path:"*",component:y}))))}}]),t}(r.a.Component),z=Object(o.d)(m,Object(o.a)(h.a));l.a.render(r.a.createElement(d.a,{store:z},r.a.createElement($,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/dainar/coneapp",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/dainar/coneapp","/service-worker.js");p?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):E(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):E(t,e)})}}()}},[[48,1,2]]]);
//# sourceMappingURL=main.29c2580b.chunk.js.map